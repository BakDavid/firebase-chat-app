(this["webpackJsonpfirebase-chat-app"]=this["webpackJsonpfirebase-chat-app"]||[]).push([[0],{44:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n.n(r),i=n(37),a=n.n(i),s=(n(44),n(0)),u=n.n(s),o=n(2),j=n(16),b=(n(46),n(28)),d=(n(52),n(48),n(38)),p=n(39),h=n(15);b.a.initializeApp({apiKey:"AIzaSyBgur3yxdtIne5ekjNPppRO-_lvcKEPFOk",authDomain:"fir-chat-app-466b2.firebaseapp.com",projectId:"fir-chat-app-466b2",storageBucket:"fir-chat-app-466b2.appspot.com",messagingSenderId:"201456430988",appId:"1:201456430988:web:57495f4947c65b306bb0a9",measurementId:"G-JGJS78MQYR"});var l=b.a.auth(),f=b.a.firestore();function O(){return Object(h.jsx)("button",{onClick:function(){var e=new b.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Sign in with Google"})}function x(){return l.currentUser&&Object(h.jsx)("button",{onClick:function(){return l.signOut()},children:"Sign Out"})}function m(){var e=Object(r.useRef)(),t=f.collection("messages"),n=t.orderBy("createdAt").limitToLast(25),c=Object(p.a)(n,{idField:"id"}),i=Object(j.a)(c,1)[0],a=Object(r.useState)(""),s=Object(j.a)(a,2),d=s[0],O=s[1],x=function(){var n=Object(o.a)(u.a.mark((function n(r){var c,i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),""===d){n.next=5;break}return c=l.currentUser,i=c.uid,a=c.photoURL,n.next=5,t.add({text:d,createdAt:b.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:a});case 5:O(""),e.current.scrollIntoView({});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{children:[i&&i.map((function(e){return Object(h.jsx)(g,{message:e},e.id)})),Object(h.jsx)("div",{ref:e})]}),Object(h.jsxs)("form",{onSubmit:x,children:[Object(h.jsx)("input",{value:d,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Send"})]})]})}function g(e){var t=e.message,n=t.text,r=t.photoURL,c=t.uid===l.currentUser.uid?"sent":"received";return Object(h.jsxs)("div",{className:"message ".concat(c),children:[Object(h.jsx)("img",{src:r}),Object(h.jsx)("p",{children:n})]})}var v=function(){var e=Object(d.a)(l),t=Object(j.a)(e,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("header",{children:[Object(h.jsxs)("h1",{children:[t&&t.displayName,"\u269b\ufe0f\ud83d\udd25\ud83d\udcac"]}),Object(h.jsx)(x,{})]}),Object(h.jsx)("section",{children:t?Object(h.jsx)(m,{}):Object(h.jsx)(O,{})})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),I()}},[[51,1,2]]]);
//# sourceMappingURL=main.969f280c.chunk.js.map